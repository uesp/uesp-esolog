<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>UESP:ESO Item -- {itemName}</title>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<link rel="stylesheet" href="resources/esoitemlink.css" />
		<script type="text/javascript" src="resources/jquery-1.10.2.js"></script>
		<script type="text/javascript" src="resources/html2canvas.js"></script>
		<script type="text/javascript" src="resources/itemlink.js"></script>
		<script type="text/javascript">
			var initialLevel = {itemLevelRaw};
			var initialQuality = {itemQualityRaw};
		</script>
	</head>
<body>
<h1>ESO Item -- {itemName}</h1>
<h2>{itemQuality} {itemLevel}</h2>

<div id="esoil_controls">
	<div class="esoil_controllabel">Level:</div>
	<input id="esoil_levelcontrol" class="esoil_rangecontrol" type="range" min="1" max="64" value="{itemLevelRaw}" />
	<input class="esoil_rangelabel" id="esoil_leveltext" type="text" value="{itemLevelRaw}" readonly />
	<br />
	<div class="esoil_controllabel">Quality:</div>
	<input id="esoil_qualitycontrol"  class="esoil_rangecontrol" type="range" min="1" max="5" value="{itemQualityRaw}" />
	<input class="esoil_rangelabel" id="esoil_qualitytext" type="text" value="{itemQualityRaw}" readonly />
</div>

<center>
<div id="esoil_outeritembox">
<div id="esoil_itembox">
	<img src="{iconLink}" class="esoil_itemicon"/>
	<div class="esoil_itemtype1">{itemType1}</div>
	<div class="esoil_itemtype2">{itemType2}</div>
	<div class="esoil_itembindtype">{itemBindType}</div>
	<div class="esoil_itemname esoil_quality_{itemQuality}">{itemNameUpper}</div>
	<img src="resources/eso_item_hr.png" class="esoil_item_hr"/>
	<div class="esoil_datablock">
		<div class="esoil_itemleftblock" style="display:{itemLeftBlockDisplay};">{itemLeftBlock}</div>
		<div class="esoil_itemlevelblock" style="display:{itemLevelBlockDisplay};">{itemLevelBlock}</div>
		<div class="esoil_itemvalueblock" style="display:{itemValueBlockDisplay};">VALUE <div class="esoil_itemvalue">{itemValue}</div></div>
	</div>
	<div class="esoil_itembar">{itemBar}</div>
	<div class="esoil_itemabilityblock">{itemAbilityBlock}</div>
	<div class="esoil_itemabilityblock">{itemTraitAbilityBlock}</div>
	<div class="esoil_itemenchantblock">{itemEnchantBlock}</div>
	<div class="esoil_itemtraitblock">{itemTraitBlock}</div>
	<div class="esoil_itemsetblock">{itemSetBlock}</div>
	<div class="esoil_itemdesc">{itemDesc}</div>
</div>
</div>
</center>

<hr />

<h2 id="esoil_rawdatalist">Raw Item Data</h2>
<table id="esoil_rawdatatable" cellpadding="0" cellspacing="0" border="0">
{itemRawDataList}
</table>

<script type="text/javascript">
	var ESO_ITEM_QUALITIES = {
		0: "None",
		1: "Normal",
		2: "Fine",
		3: "Superior",
		4: "Epic",
		5: "Legendary",
	};
	
	
	function GetEsoItemQualityText(quality)
	{
		qualityText = ESO_ITEM_QUALITIES[quality];
		if (qualityText == null) return '' + quality;
		return qualityText; 
	}
	
	
	function GetEsoItemLevelText(level)
	{
		if (level >= 50) return 'V' + (level - 49);
		return '' + level;
	}
	
	
	$( document ).ready(function() {
	
		$('#esoil_levelcontrol').on('input', function(e) { 
			console.log(this.value); 
			$('#esoil_leveltext').val(GetEsoItemLevelText(this.value)); 
		});
		
		$('#esoil_qualitycontrol').on('input', function(e) { 
			console.log(this.value); 
			$('#esoil_qualitytext').val(GetEsoItemQualityText(this.value)); 
		});
		
		console.log("ready");
	});
	
	var itemData = {itemDataJson};
</script>
</body>
</html>
